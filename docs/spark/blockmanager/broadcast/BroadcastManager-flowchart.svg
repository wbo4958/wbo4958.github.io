<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="956px" height="715px" viewBox="-0.5 -0.5 956 715" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-08-16T09:45:08.131Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;zUCAIOjB6KSDXULE7lcU&quot; version=&quot;14.4.3&quot; type=&quot;device&quot; pages=&quot;2&quot;&gt;&lt;diagram id=&quot;hcmgnOHJ1_UFlkIcl8GP&quot; name=&quot;broadcast&quot;&gt;7VjbjtowEP2aPG6VC4HwSAJ7qbZqtVRq3yo3MYm1jidyzAL9+o4TmxDCdqnEti9ICGWOx45nzhnHthMk5fZOkqr4BBnlju9mWyeYO74/Gbv4r4FdC4Sh3wK5ZFkLeR2wZL+oAU2/fM0yWvccFQBXrOqDKQhBU9XDiJSw6butgPffWpGcDoBlSvgQ/cYyVbRoFLodfk9ZXtg3e65pKYl1NkBdkAw2B1CwcIJEAqj2qdwmlOvc2by0/W5fad1PTFKhzulQxrtvo7un+yiNFtNK3PAghBszygvhaxNwLIFkKamVmbXa2VTUG1ZyItCKVyDU0rR4aBPOcoHPKc6FSgReqFQMszgzDQoqRNOC8eyR7GCtZ1wrkj5bKy5Asl84LOFmTGyWygjCH/c8lronwi6iktbo88WmwTuCPpFtz/FRR9YCKXBOqpr93IdREpkzEYNSUBqnYZZtyjBCuj2ATNbvKJRUyR262NapUcBur5HW3nSC8qxKigMx2VIhRsP5fuiOZnwwTP8F6/6A9UcQedvrmHUMUjVsSHimCXBAeucCWhkwzo8gqwROV+pVHdQVSZnIHxuf+ahDnkzwGgLsu+JNxRQsy6jQHIIiirSEaXYqYEI12Qlj/GEOE/dD6IQ48QRtr7Pxp92lSkBgLIQ1dFJUw4ZqRZwg+o8F8zb7hm2U7llkW7+Lkx0OyP4KUkd5rfSLV7rXr3R/NKx0PzpBvhe+F/vjAftLWKknuqIYZ0qxSL425eL+aF20NG/1bzF2pokzS5xFqB+wthYTJ06caaCR2dyZRhqZzpxopBEMC1uvq8cfV4/wbEW9vnqcFNC7rR7TgX4eMMLEd2buTw7pc1O2V9Yvy7r98P831qMB658rxUBgfhIoK1xga7QS3OynOkuNHNLjhqsqLquKSfSfVWG/bqdOC7FeDB4yszJY9OG6n7y0Cjx39O9kcBNMPhN6/xx/jG7Jd/kyX0fkxJlx/0kQ67IRQn2l/dK0B2duJd+t+icD2hdbRUU25BrBmb56QavZI2BaEDIbfG/cmrdMv75Jf6FKexR4dRNew1qm9O2M4lEip2cc4GjWu/cZ5v3wvGYvsSTlRLGX/tXQqUSb4b5oXXXHA//4eGDviuwQbZCm1+FVztFAweSNgdosDAZqeN/HeEoKaHY3Uq17d60XLH4D&lt;/diagram&gt;&lt;diagram id=&quot;yQkX6-9v7bCQBW1RZF28&quot; name=&quot;flowchart&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-d5e8d4-1-97d077-1-s-0"><stop offset="0%" style="stop-color:#d5e8d4"/><stop offset="100%" style="stop-color:#97d077"/></linearGradient></defs><g><path d="M 100 82 L 100 102 L 100 97.03 L 100 110.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 100 115.88 L 96.5 108.88 L 100 110.63 L 103.5 108.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="100" cy="67" rx="100" ry="15" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 67px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b><font color="#ff0000">broadcast</font></b>=SparkContext.broadcast</div></div></div></foreignObject><text x="100" y="71" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">broadcast=SparkContext.broadcast</text></switch></g><rect x="285" y="42" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 335 82 L 335 712" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 62px; margin-left: 286px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BlockManager</div></div></div></foreignObject><text x="335" y="66" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BlockManager</text></switch></g><rect x="60" y="237" width="80" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 247px; margin-left: 61px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">writeBlocks</div></div></div></foreignObject><text x="100" y="251" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">writeBlocks</text></switch></g><rect x="290" y="237" width="80" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 247px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">putSingle</div></div></div></foreignObject><text x="330" y="251" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">putSingle</text></switch></g><path d="M 140 247 L 283.63 247" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 247 L 281.88 250.5 L 283.63 247 L 281.88 243.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="317" width="180" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 327px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">TorrentBroadcast.blockifyObject</div></div></div></foreignObject><text x="100" y="331" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">TorrentBroadcast.blockifyObject</text></switch></g><path d="M 100 257 L 100 310.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 100 315.88 L 96.5 308.88 L 100 310.63 L 103.5 308.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="277" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 292px; margin-left: 100px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">将需要广播的数据<br />分为chunks, 默认4M一个chunk</div></div></div></foreignObject><text x="100" y="296" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将需要广播的数据&#xa;分为chunks, 默认4M一个chunk</text></switch></g><rect x="315" y="317" width="50" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 327px; margin-left: 316px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">putBytes</div></div></div></foreignObject><text x="340" y="331" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">putBytes</text></switch></g><path d="M 190 327 L 308.63 327" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 313.88 327 L 306.88 330.5 L 308.63 327 L 306.88 323.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="105" y="397" width="210" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 412px; margin-left: 210px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">依次将每个 chunk 都保存到<br />BlockManager中, Executor 可以获取</div></div></div></foreignObject><text x="210" y="416" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">依次将每个 chunk 都保存到...</text></switch></g><rect x="135" y="347" width="190" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 372px; margin-left: 230px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">BroadcastBlockId(id, "piece" + i)<br />MEMORY_AND_DISK_SER<br />tellMaster=true</div></div></div></foreignObject><text x="230" y="376" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BroadcastBlockId(id, "piece" +...</text></switch></g><rect x="145" y="2" width="90" height="40" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 22px; margin-left: 190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 26px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Driver</div></div></div></foreignObject><text x="190" y="30" fill="#FF0000" font-family="Helvetica" font-size="26px" text-anchor="middle" font-weight="bold">Driver</text></switch></g><rect x="215" y="162" width="180" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 192px; margin-left: 217px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">MEMORY_AND_DISK<br />tellMaster=false<br />保存value的一份copy<br />到Driver 端, executor端不可见</div></div></div></foreignObject><text x="217" y="196" fill="#000000" font-family="Helvetica" font-size="12px">MEMORY_AND_DISK...</text></switch></g><rect x="485" y="42" width="100" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 535 82 L 535 702" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 62px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BlockManager</div></div></div></foreignObject><text x="535" y="66" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BlockManager</text></switch></g><rect x="475" y="522" width="100" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 532px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">getRemoteBytes</div></div></div></foreignObject><text x="525" y="536" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getRemoteBytes</text></switch></g><rect x="480" y="2" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 22px; margin-left: 545px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 26px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Executor</div></div></div></foreignObject><text x="545" y="30" fill="#FF0000" font-family="Helvetica" font-size="26px" text-anchor="middle" font-weight="bold">Executor</text></switch></g><path d="M 755 47 L 755.03 67.03 L 755.03 52 L 755.03 65.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755.03 70.88 L 751.53 63.88 L 755.03 65.63 L 758.53 63.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="755" cy="29.5" rx="60" ry="17.5" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 696px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#ff0000"><b>broadcast</b></font>.value</div></div></div></foreignObject><text x="755" y="33" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">broadcast.value</text></switch></g><path d="M 755.03 92 L 755.03 112 L 755.03 92 L 755.01 105.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755 110.88 L 751.51 103.88 L 755.01 105.63 L 758.51 103.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="715" y="72" width="80" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 82px; margin-left: 716px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">getValue</div></div></div></foreignObject><text x="755" y="86" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getValue</text></switch></g><path d="M 695 222 L 591.37 222" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 586.12 222 L 593.12 218.5 L 591.37 222 L 593.12 225.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="695" y="212" width="120" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 222px; margin-left: 696px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">readBroadcastBlock</div></div></div></foreignObject><text x="755" y="226" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">readBroadcastBlock</text></switch></g><path d="M 535 232 Q 535.03 252 645.03 252 Q 755.03 252 755.03 265.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755.03 270.89 L 751.53 263.89 L 755.03 265.64 L 758.53 263.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="485" y="212" width="100" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 222px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">getLocalValues</div></div></div></foreignObject><text x="535" y="226" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getLocalValues</text></switch></g><path d="M 835 287 L 885.03 287.03 L 885.01 305.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 885 310.88 L 881.51 303.88 L 885.01 305.63 L 888.51 303.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 285px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Yes</div></div></div></foreignObject><text x="875" y="289" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Yes</text></switch></g><path d="M 755 302 L 755 345.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755 350.88 L 751.5 343.88 L 755 345.63 L 758.5 343.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 321px; margin-left: 755px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">No</div></div></div></foreignObject><text x="755" y="324" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">No</text></switch></g><path d="M 755 272 L 835 287 L 755 302 L 675 287 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 287px; margin-left: 676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获得BlockResult?</div></div></div></foreignObject><text x="755" y="291" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获得BlockResult?</text></switch></g><rect x="815" y="312" width="140" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 342px; margin-left: 817px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回结果并缓存到 _value<br />和BroadcastManager. cachedValues</div></div></div></foreignObject><text x="817" y="346" fill="#000000" font-family="Helvetica" font-size="12px">返回结果并缓存到 _value...</text></switch></g><path d="M 525 447 Q 525.03 482 640.03 482 Q 755.03 482 755.03 510.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755.03 515.89 L 751.53 508.89 L 755.03 510.64 L 758.53 508.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 755 372 L 755 405.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755 410.88 L 751.5 403.88 L 755 405.63 L 758.5 403.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="720" y="352" width="70" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 362px; margin-left: 721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">readBlocks</div></div></div></foreignObject><text x="755" y="366" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">readBlocks</text></switch></g><rect x="455" y="182" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 197px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">从本地的 BlockManager<br />查找是否有该 Block</div></div></div></foreignObject><text x="525" y="201" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从本地的 BlockManager...</text></switch></g><path d="M 655 677 L 571.37 677" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 566.12 677 L 573.12 673.5 L 571.37 677 L 573.12 680.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="655" y="667" width="200" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 677px; margin-left: 656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">TorrentBroadcast.unBlockifyObject</div></div></div></foreignObject><text x="755" y="681" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">TorrentBroadcast.unBlockifyObject</text></switch></g><rect x="685" y="637" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 647px; margin-left: 760px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">将 chunks 合成一个 value</div></div></div></foreignObject><text x="760" y="651" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将 chunks 合成一个 value</text></switch></g><rect x="485" y="667" width="80" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 677px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">putSingle</div></div></div></foreignObject><text x="525" y="681" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">putSingle</text></switch></g><rect x="465" y="632" width="120" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 647px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">将Block保存到<br />本地BlockManager</div></div></div></foreignObject><text x="525" y="651" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将Block保存到...</text></switch></g><path d="M 665 437 L 581.37 437" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 576.12 437 L 583.12 433.5 L 581.37 437 L 583.12 440.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="665" y="412" width="180" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 437px; margin-left: 666px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">将所有的待取的 chunks shuffle<br />这样可以避免多个executor同时从Driver取一个 chunk的情况</div></div></div></foreignObject><text x="755" y="441" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将所有的待取的 chunks shuffle...</text></switch></g><rect x="665" y="392" width="200" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 402px; margin-left: 765px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">BroadcastBlockId(id, "piece" + pid)</div></div></div></foreignObject><text x="765" y="406" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BroadcastBlockId(id, "piece" + pi...</text></switch></g><rect x="475" y="427" width="100" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 437px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">getLocalValues</div></div></div></foreignObject><text x="525" y="441" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getLocalValues</text></switch></g><rect x="455" y="387" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 402px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">从本地的 BlockManager<br />查找是否有该 chunk</div></div></div></foreignObject><text x="525" y="406" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从本地的 BlockManager...</text></switch></g><rect x="605" y="412" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 422px; margin-left: 630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">依次取</div></div></div></foreignObject><text x="630" y="426" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">依次取</text></switch></g><path d="M 755 547 L 755 585.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755 590.88 L 751.5 583.88 L 755 585.63 L 758.5 583.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 675 532 L 581.37 532" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 576.12 532 L 583.12 528.5 L 581.37 532 L 583.12 535.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 533px; margin-left: 635px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">No</div></div></div></foreignObject><text x="635" y="537" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">No</text></switch></g><path d="M 755 517 L 835 532 L 755 547 L 675 532 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 532px; margin-left: 676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获得BlockResult?</div></div></div></foreignObject><text x="755" y="536" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获得BlockResult?</text></switch></g><path d="M 755 612 L 755 660.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755 665.88 L 751.5 658.88 L 755 660.63 L 758.5 658.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="685" y="592" width="140" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 602px; margin-left: 686px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获得所有的 chunks</div></div></div></foreignObject><text x="755" y="606" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获得所有的 chunks</text></switch></g><rect x="585" y="502" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 512px; margin-left: 615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">从远端取</div></div></div></foreignObject><text x="615" y="516" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从远端取</text></switch></g><path d="M 425 712 L 425 2" fill="none" stroke="#3399ff" stroke-width="4" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 100 137 L 100 175.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 100 180.88 L 96.5 173.88 L 100 175.63 L 103.5 173.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5" y="117" width="190" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 127px; margin-left: 6px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BroadcastManager.newBroadcast</div></div></div></foreignObject><text x="100" y="131" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BroadcastManager.newBroadcast</text></switch></g><path d="M 100 202 L 100 222 L 100 217.03 L 100 230.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 100 235.88 L 96.5 228.88 L 100 230.63 L 103.5 228.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="35" y="182" width="130" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 192px; margin-left: 36px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">new TorrentBroadcast</div></div></div></foreignObject><text x="100" y="196" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">new TorrentBroadcast</text></switch></g><path d="M 225 142 L 245 112 L 345 112 L 325 142 Z" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 127px; margin-left: 226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">BroadcastBlockId</div></div></div></foreignObject><text x="285" y="131" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">BroadcastBlockId</text></switch></g><path d="M 755.03 131.99 L 755.03 152 L 755.03 139.52 L 755.03 153.14" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755.03 158.39 L 751.53 151.39 L 755.03 153.14 L 758.53 151.39 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 810 122 L 895.03 122 L 895.03 150.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 895.03 155.88 L 891.53 148.88 L 895.03 150.63 L 898.53 148.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 755 112 L 810 122 L 755 132 L 700 122 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 122px; margin-left: 701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">_value ?</div></div></div></foreignObject><text x="755" y="126" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">_value ?</text></switch></g><path d="M 755.03 179.49 L 755.03 199.52 L 755.03 192 L 755.03 205.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 755.03 210.88 L 751.53 203.88 L 755.03 205.63 L 758.53 203.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 195px; margin-left: 757px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">No</div></div></div></foreignObject><text x="757" y="199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">No</text></switch></g><path d="M 810 169.5 L 858.63 169.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 863.88 169.5 L 856.88 173 L 858.63 169.5 L 856.88 166 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 755 159.5 L 810 169.5 L 755 179.5 L 700 169.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 170px; margin-left: 701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cachedValues?</div></div></div></foreignObject><text x="755" y="173" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cachedValues?</text></switch></g><rect x="670" y="137" width="170" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 147px; margin-left: 755px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">从 BroadcastManager中查找</div></div></div></foreignObject><text x="755" y="151" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从 BroadcastManager中查找</text></switch></g><rect x="865" y="157" width="60" height="25" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 58px; height: 1px; padding-top: 170px; margin-left: 867px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回结果</div></div></div></foreignObject><text x="867" y="173" fill="#000000" font-family="Helvetica" font-size="12px">返回结果</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>